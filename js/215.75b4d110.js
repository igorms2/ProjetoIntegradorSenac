(self["webpackChunkporta_facil"]=self["webpackChunkporta_facil"]||[]).push([[215,955],{713:function(t,e,a){"use strict";var r=a(9565),o=a(9306),n=a(8551),i=a(1767),s=a(9462),d=a(6319),u=s((function(){var t=this.iterator,e=n(r(this.next,t)),a=this.done=!!e.done;if(!a)return d(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return n(this),o(t),new u(i(this),{mapper:t})}},1701:function(t,e,a){"use strict";var r=a(6518),o=a(713),n=a(6395);r({target:"Iterator",proto:!0,real:!0,forced:n},{map:o})},2215:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return $}});var r=a(641);const o={class:"dashboard"};function n(t,e,a,n,i,s){const d=(0,r.g2)("HeaderFuncionario"),u=(0,r.g2)("EntradaEncomendas"),l=(0,r.g2)("TodasEntregas"),c=(0,r.g2)("ListaMoradores");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(d),(0,r.Lk)("div",o,[e[0]||(e[0]=(0,r.Lk)("h2",null,"Dashboard Funcionário",-1)),(0,r.bF)(u,{onEntregaAdicionada:s.carregarEntregas},null,8,["onEntregaAdicionada"]),e[1]||(e[1]=(0,r.Lk)("h3",null,"Entregas",-1)),(0,r.Lk)("div",null,[(0,r.bF)(l)]),(0,r.bF)(c)])])}a(4114),a(8111),a(1701);var i=a(1884),s=a(1394);function d(t,e,a,o,n,i){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",null,[(0,r.bF)(s,{to:"/"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)("Home")]))),_:1}),(0,r.bF)(s,{to:"/dashboard-funcionario"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("Dashboard Funcionário")]))),_:1}),(0,r.bF)(s,{to:"/entrada-encomendas"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.eW)("Entrada de Encomendas")]))),_:1}),(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>i.logout&&i.logout(...t))},"Logout")])}var u={methods:{async logout(){try{await s.j.signOut(),this.$router.push("/")}catch(t){alert("Erro ao fazer logout: "+t.message)}}}},l=a(6262);const c=(0,l.A)(u,[["render",d],["__scopeId","data-v-7db96fd7"]]);var m=c,p=a(9955),f=a(3751),h=a(33);const g={class:"lista-moradores"},v={class:"tabela-moradores"},k=["onClick"],E={key:0,class:"modal-edicao"},L={key:1,class:"loading"},b={key:2,class:"erro"};function y(t,e,a,o,n,i){return(0,r.uX)(),(0,r.CE)("div",g,[e[21]||(e[21]=(0,r.Lk)("h2",null,"Lista de Moradores",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.termoBusca=t),type:"text",placeholder:"Buscar morador por nome, email ou endereço...",class:"campo-busca"},null,512),[[f.Jo,n.termoBusca]]),(0,r.Lk)("table",v,[e[10]||(e[10]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Nome"),(0,r.Lk)("th",null,"Telefone"),(0,r.Lk)("th",null,"Email"),(0,r.Lk)("th",null,"Endereço"),(0,r.Lk)("th",null,"CPF"),(0,r.Lk)("th",null,"RG"),(0,r.Lk)("th",null,"Data de Nascimento"),(0,r.Lk)("th",null,"Ações")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.moradoresFiltrados,(t=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,(0,h.v_)(t.nome),1),(0,r.Lk)("td",null,(0,h.v_)(t.telefone),1),(0,r.Lk)("td",null,(0,h.v_)(t.email),1),(0,r.Lk)("td",null,(0,h.v_)(t.endereco),1),(0,r.Lk)("td",null,(0,h.v_)(t.cpf),1),(0,r.Lk)("td",null,(0,h.v_)(t.rg),1),(0,r.Lk)("td",null,(0,h.v_)(i.formatarData(t.dataNascimento)),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:e=>i.abrirEdicao(t)},"Editar",8,k)])])))),128))])]),n.moradorEditando?((0,r.uX)(),(0,r.CE)("div",E,[e[19]||(e[19]=(0,r.Lk)("h3",null,"Editar Morador",-1)),(0,r.Lk)("form",{onSubmit:e[9]||(e[9]=(0,f.D$)(((...t)=>i.salvarEdicao&&i.salvarEdicao(...t)),["prevent"]))},[e[11]||(e[11]=(0,r.Lk)("label",null,"Nome:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.moradorEditando.nome=t),type:"text",required:""},null,512),[[f.Jo,n.moradorEditando.nome]]),e[12]||(e[12]=(0,r.Lk)("label",null,"Telefone:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>n.moradorEditando.telefone=t),type:"text",required:""},null,512),[[f.Jo,n.moradorEditando.telefone]]),e[13]||(e[13]=(0,r.Lk)("label",null,"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>n.moradorEditando.email=t),type:"email",required:""},null,512),[[f.Jo,n.moradorEditando.email]]),e[14]||(e[14]=(0,r.Lk)("label",null,"Endereço:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.moradorEditando.endereco=t),type:"text",required:""},null,512),[[f.Jo,n.moradorEditando.endereco]]),e[15]||(e[15]=(0,r.Lk)("label",null,"CPF:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>n.moradorEditando.cpf=t),type:"text",required:""},null,512),[[f.Jo,n.moradorEditando.cpf]]),e[16]||(e[16]=(0,r.Lk)("label",null,"RG:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.moradorEditando.rg=t),type:"text",required:""},null,512),[[f.Jo,n.moradorEditando.rg]]),e[17]||(e[17]=(0,r.Lk)("label",null,"Data de Nascimento:",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>n.dataNascimentoFormatada=t),type:"text",placeholder:"DD/MM/AAAA",pattern:"\\d{2}/\\d{2}/\\d{4}",required:""},null,512),[[f.Jo,n.dataNascimentoFormatada]]),e[18]||(e[18]=(0,r.Lk)("button",{type:"submit"},"Salvar",-1)),(0,r.Lk)("button",{type:"button",onClick:e[8]||(e[8]=(...t)=>i.fecharEdicao&&i.fecharEdicao(...t))},"Cancelar")],32)])):(0,r.Q3)("",!0),n.loading?((0,r.uX)(),(0,r.CE)("div",L,e[20]||(e[20]=[(0,r.Lk)("p",null,"Carregando moradores...",-1)]))):(0,r.Q3)("",!0),n.erro?((0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("p",null,"Erro ao carregar moradores: "+(0,h.v_)(n.erro),1)])):(0,r.Q3)("",!0)])}a(2489);var x={data(){return{moradores:[],termoBusca:"",loading:!0,erro:"",moradorEditando:null,dataNascimentoFormatada:""}},computed:{moradoresFiltrados(){return this.moradores.filter((t=>{const e=this.termoBusca.toLowerCase();return t.nome.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.endereco.toLowerCase().includes(e)}))}},async created(){await this.carregarMoradores()},methods:{async carregarMoradores(){try{const t=await(0,i.GG)((0,i.rJ)(s.db,"usuarios"));this.moradores=t.docs.map((t=>({id:t.id,...t.data()}))).filter((t=>"morador"===t.role))}catch(t){this.erro="Erro ao carregar moradores: "+t.message}finally{this.loading=!1}},abrirEdicao(t){this.moradorEditando={...t},this.dataNascimentoFormatada=this.formatarData(t.dataNascimento)},fecharEdicao(){this.moradorEditando=null,this.dataNascimentoFormatada=""},async salvarEdicao(){try{const t=/^(\d{2})\/(\d{2})\/(\d{4})$/;if(!t.test(this.dataNascimentoFormatada))throw new Error("Formato de data inválido. Use DD/MM/AAAA.");const[e,a,r]=this.dataNascimentoFormatada.split("/"),o=`${r}-${a}-${e}`,n=(0,i.H9)(s.db,"usuarios",this.moradorEditando.id);await(0,i.mZ)(n,{nome:this.moradorEditando.nome,telefone:this.moradorEditando.telefone,email:this.moradorEditando.email,endereco:this.moradorEditando.endereco,cpf:this.moradorEditando.cpf,rg:this.moradorEditando.rg,dataNascimento:o});const d=this.moradores.findIndex((t=>t.id===this.moradorEditando.id));-1!==d&&(this.moradores[d]={...this.moradorEditando,dataNascimento:o}),this.fecharEdicao()}catch(t){this.erro="Erro ao salvar edição: "+t.message}},formatarData(t){if(!t)return"";if(t.includes("-")){const[e,a,r]=t.split("-");return`${r}/${a}/${e}`}return t}}};const C=(0,l.A)(x,[["render",y],["__scopeId","data-v-0765d0b1"]]);var w=C;const A={class:"todas-entregas-container"},_={class:"filtro-status"},F={key:0},I={key:1},S={key:0},D={key:1};function N(t,e,a,o,n,i){return(0,r.uX)(),(0,r.CE)("div",A,[e[10]||(e[10]=(0,r.Lk)("h3",null,"Todas as Entregas",-1)),(0,r.Lk)("div",_,[e[2]||(e[2]=(0,r.Lk)("label",{for:"statusFilter"},"Filtrar por status:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"statusFilter","onUpdate:modelValue":e[0]||(e[0]=t=>n.statusSelecionado=t)},e[1]||(e[1]=[(0,r.Lk)("option",{value:""},"Todos",-1),(0,r.Lk)("option",{value:"Aguardando retirada"},"Aguardando retirada",-1),(0,r.Lk)("option",{value:"Entregue"},"Entregue",-1)]),512),[[f.u1,n.statusSelecionado]])]),n.loading?((0,r.uX)(),(0,r.CE)("div",F,e[3]||(e[3]=[(0,r.Lk)("p",null,"Carregando entregas...",-1)]))):((0,r.uX)(),(0,r.CE)("div",I,[i.entregasFiltradas.length>0?((0,r.uX)(),(0,r.CE)("div",S,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.entregasFiltradas,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"entrega-item"},[(0,r.Lk)("p",null,[e[4]||(e[4]=(0,r.Lk)("strong",null,"Remetente:",-1)),(0,r.eW)(" "+(0,h.v_)(t.remetente),1)]),(0,r.Lk)("p",null,[e[5]||(e[5]=(0,r.Lk)("strong",null,"Data de Entrada:",-1)),(0,r.eW)(" "+(0,h.v_)(i.formatarData(t.dataEntrada)),1)]),(0,r.Lk)("p",null,[e[6]||(e[6]=(0,r.Lk)("strong",null,"Descrição:",-1)),(0,r.eW)(" "+(0,h.v_)(t.descricao),1)]),(0,r.Lk)("p",null,[e[7]||(e[7]=(0,r.Lk)("strong",null,"Nome do Destinatário:",-1)),(0,r.eW)(" "+(0,h.v_)(t.nomeCompleto),1)]),(0,r.Lk)("p",null,[e[8]||(e[8]=(0,r.Lk)("strong",null,"Status:",-1)),(0,r.eW)(" "+(0,h.v_)(t.status),1)])])))),128))])):((0,r.uX)(),(0,r.CE)("div",D,e[9]||(e[9]=[(0,r.Lk)("p",null,"Nenhuma entrega encontrada.",-1)])))]))])}var R={data(){return{entregas:[],loading:!0,statusSelecionado:""}},async created(){await this.carregarEntregas()},computed:{entregasFiltradas(){return this.statusSelecionado?this.entregas.filter((t=>t.status===this.statusSelecionado)):this.entregas}},methods:{async carregarEntregas(){try{const t=(0,i.rJ)(s.db,"encomendas"),e=await(0,i.GG)(t);this.entregas=e.docs.map((t=>({id:t.id,...t.data()})))}catch(t){console.error("Erro ao buscar entregas:",t)}finally{this.loading=!1}},formatarData(t){return new Date(t).toLocaleString()},async atualizarStatus(t){try{const e=(0,i.H9)(s.db,"encomendas",t.id);await(0,i.mZ)(e,{status:t.status}),console.log("Status atualizado com sucesso!")}catch(e){console.error("Erro ao atualizar o status:",e)}},async excluirEntrega(t){try{const e=confirm("Tem certeza que deseja excluir esta encomenda?");if(e){const e=(0,i.H9)(s.db,"encomendas",t);await(0,i.kd)(e),this.entregas=this.entregas.filter((e=>e.id!==t)),console.log("Encomenda excluída com sucesso!")}}catch(e){console.error("Erro ao excluir a encomenda:",e)}}}};const M=(0,l.A)(R,[["render",N],["__scopeId","data-v-4b08f338"]]);var V=M,U={components:{HeaderFuncionario:m,EntradaEncomendas:p["default"],ListaMoradores:w,TodasEntregas:V},data(){return{entregas:[]}},async created(){const t="true"===localStorage.getItem("isFuncionario");t?await this.carregarEntregas():this.$router.push("/loginfuncionario")},methods:{async carregarEntregas(){const t=await(0,i.GG)((0,i.rJ)(s.db,"entregas"));this.entregas=t.docs.map((t=>({id:t.id,...t.data()})))},async atualizarStatus(t){const e=(0,i.H9)(s.db,"entregas",t);await(0,i.mZ)(e,{status:"Recebida"}),await this.carregarEntregas()},statusClass(t){return{pendente:"Pendente"===t,recebida:"Recebida"===t}}}};const J=(0,l.A)(U,[["render",n],["__scopeId","data-v-dfe4a0fe"]]);var $=J},2489:function(t,e,a){"use strict";var r=a(6518),o=a(9565),n=a(9306),i=a(8551),s=a(1767),d=a(9462),u=a(6319),l=a(6395),c=d((function(){var t,e,a,r=this.iterator,n=this.predicate,s=this.next;while(1){if(t=i(o(s,r)),e=this.done=!!t.done,e)return;if(a=t.value,u(r,n,[a,this.counter++],!0))return a}}));r({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(t){return i(this),n(t),new c(s(this),{predicate:t})}})},2529:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},6279:function(t,e,a){"use strict";var r=a(6840);t.exports=function(t,e,a){for(var o in e)r(t,o,e[o],a);return t}},6319:function(t,e,a){"use strict";var r=a(8551),o=a(9539);t.exports=function(t,e,a,n){try{return n?e(r(a)[0],a[1]):e(a)}catch(i){o(t,"throw",i)}}},7547:function(t){(function(e,a){t.exports=a()})(0,(function(){return function(t){function e(r){if(a[r])return a[r].exports;var o=a[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,r){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=10)}([function(t,e){t.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(t){return t.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(t){return t.toLocaleLowerCase()}},"!":{escape:!0}}},function(t,e,a){"use strict";function r(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var o=a(2),n=a(0),i=a.n(n);e.a=function(t,e){var n=e.value;if((Array.isArray(n)||"string"==typeof n)&&(n={mask:n,tokens:i.a}),"INPUT"!==t.tagName.toLocaleUpperCase()){var s=t.getElementsByTagName("input");if(1!==s.length)throw new Error("v-mask directive requires 1 input, found "+s.length);t=s[0]}t.oninput=function(e){if(e.isTrusted){var i=t.selectionEnd,s=t.value[i-1];for(t.value=a.i(o.a)(t.value,n.mask,!0,n.tokens);i<t.value.length&&t.value.charAt(i-1)!==s;)i++;t===document.activeElement&&(t.setSelectionRange(i,i),setTimeout((function(){t.setSelectionRange(i,i)}),0)),t.dispatchEvent(r("input"))}};var d=a.i(o.a)(t.value,n.mask,!0,n.tokens);d!==t.value&&(t.value=d,t.dispatchEvent(r("input")))}},function(t,e,a){"use strict";var r=a(6),o=a(5);e.a=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return Array.isArray(e)?a.i(o.a)(r.a,e,i)(t,e,n,i):a.i(r.a)(t,e,n,i)}},function(t,e,a){"use strict";function r(t){t.component(d.a.name,d.a),t.directive("mask",i.a)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(0),n=a.n(o),i=a(1),s=a(7),d=a.n(s);a.d(e,"TheMask",(function(){return d.a})),a.d(e,"mask",(function(){return i.a})),a.d(e,"tokens",(function(){return n.a})),a.d(e,"version",(function(){return u}));var u="0.11.1";e.default=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(r)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(1),o=a(0),n=a.n(o),i=a(2);e.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return n.a}}},directives:{mask:r.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(t){t!==this.lastValue&&(this.display=t)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(t){t.isTrusted||this.refresh(t.target.value)},refresh:function(t){this.display=t;t=a.i(i.a)(t,this.mask,this.masked,this.tokens);t!==this.lastValue&&(this.lastValue=t,this.$emit("input",t))}}}},function(t,e,a){"use strict";function r(t,e,a){return e=e.sort((function(t,e){return t.length-e.length})),function(r,o){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;i<e.length;){var s=e[i];i++;var d=e[i];if(!(d&&t(r,d,!0,a).length>s.length))return t(r,s,n,a)}return""}}e.a=r},function(t,e,a){"use strict";function r(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];t=t||"",e=e||"";for(var o=0,n=0,i="";o<e.length&&n<t.length;){var s=e[o],d=r[s],u=t[n];d&&!d.escape?(d.pattern.test(u)&&(i+=d.transform?d.transform(u):u,o++),n++):(d&&d.escape&&(o++,s=e[o]),a&&(i+=s),u===s&&n++,o++)}for(var l="";o<e.length&&a;){s=e[o];if(r[s]){l="";break}l+=s,o++}return i+l}e.a=r},function(t,e,a){var r=a(8)(a(4),a(9),null,null);t.exports=r.exports},function(t,e){t.exports=function(t,e,a,r){var o,n=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(o=t,n=t.default);var s="function"==typeof n?n.options:n;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),a&&(s._scopeId=a),r){var d=s.computed||(s.computed={});Object.keys(r).forEach((function(t){var e=r[t];d[t]=function(){return e}}))}return{esModule:o,exports:n,options:s}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"mask",rawName:"v-mask",value:t.config,expression:"config"}],attrs:{type:"text"},domProps:{value:t.display},on:{input:t.onInput}})},staticRenderFns:[]}},function(t,e,a){t.exports=a(3)}])}))},7588:function(t,e,a){"use strict";var r=a(6518),o=a(2652),n=a(9306),i=a(8551),s=a(1767);r({target:"Iterator",proto:!0,real:!0},{forEach:function(t){i(this),n(t);var e=s(this),a=0;o(e,(function(e){t(e,a++)}),{IS_RECORD:!0})}})},9462:function(t,e,a){"use strict";var r=a(9565),o=a(2360),n=a(6699),i=a(6279),s=a(8227),d=a(1181),u=a(5966),l=a(7657).IteratorPrototype,c=a(2529),m=a(9539),p=s("toStringTag"),f="IteratorHelper",h="WrapForValidIterator",g=d.set,v=function(t){var e=d.getterFor(t?h:f);return i(o(l),{next:function(){var a=e(this);if(t)return a.nextHandler();if(a.done)return c(void 0,!0);try{var r=a.nextHandler();return a.returnHandlerResult?r:c(r,a.done)}catch(o){throw a.done=!0,o}},return:function(){var a=e(this),o=a.iterator;if(a.done=!0,t){var n=u(o,"return");return n?r(n,o):c(void 0,!0)}if(a.inner)try{m(a.inner.iterator,"normal")}catch(i){return m(o,"throw",i)}return o&&m(o,"normal"),c(void 0,!0)}})},k=v(!0),E=v(!1);n(E,p,"Iterator Helper"),t.exports=function(t,e,a){var r=function(r,o){o?(o.iterator=r.iterator,o.next=r.next):o=r,o.type=e?h:f,o.returnHandlerResult=!!a,o.nextHandler=t,o.counter=0,o.done=!1,g(this,o)};return r.prototype=e?k:E,r}},9955:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var r=a(641),o=a(3751);const n={class:"entrada-encomendas"},i=["disabled"],s=["disabled"];function d(t,e,a,d,u,l){const c=(0,r.gN)("mask");return(0,r.uX)(),(0,r.CE)("div",n,[e[10]||(e[10]=(0,r.Lk)("h3",null,"Cadastrar Nova Encomenda",-1)),(0,r.Lk)("form",{onSubmit:e[4]||(e[4]=(0,o.D$)(((...t)=>l.cadastrarEncomenda&&l.cadastrarEncomenda(...t)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>u.nomeCompleto=t),placeholder:"Nome do Morador",required:""},null,512),[[o.Jo,u.nomeCompleto]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>u.descricao=t),placeholder:"Descrição da Encomenda",required:""},null,512),[[o.Jo,u.descricao]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>u.remetente=t),placeholder:"Remetente",required:""},null,512),[[o.Jo,u.remetente]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>u.telefone=t),placeholder:"Telefone do Morador (xx)xxxxx-xxxx",required:""},null,512),[[o.Jo,u.telefone],[c,"(##)#####-####"]]),e[8]||(e[8]=(0,r.Lk)("button",{type:"submit"},"Cadastrar Encomenda",-1))],32),e[11]||(e[11]=(0,r.Lk)("h3",null,"Atualizar Status da Encomenda",-1)),(0,r.Lk)("form",{onSubmit:e[7]||(e[7]=(0,o.D$)(((...t)=>l.atualizarStatus&&l.atualizarStatus(...t)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>u.codigoRastreioInput=t),placeholder:"Código de Rastreio",required:""},null,512),[[o.Jo,u.codigoRastreioInput]]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>u.statusInput=t),disabled:!u.codigoRastreioInput},e[9]||(e[9]=[(0,r.Lk)("option",{value:"Aguardando retirada"},"Aguardando retirada",-1),(0,r.Lk)("option",{value:"Entregue"},"Entregue",-1)]),8,i),[[o.u1,u.statusInput]]),(0,r.Lk)("button",{type:"submit",disabled:!u.codigoRastreioInput},"Atualizar Status",8,s)],32)])}a(8111),a(7588);var u=a(1884),l=a(1394),c=a(7547),m={directives:{mask:c.mask},data(){return{nomeCompleto:"",descricao:"",remetente:"",telefone:"",codigoRastreioInput:"",statusInput:"Aguardando retirada"}},methods:{gerarCodigoAleatorio(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let a=0;a<8;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},async cadastrarEncomenda(){try{const t=this.gerarCodigoAleatorio(),e=await(0,u.gS)((0,u.rJ)(l.db,"encomendas"),{nomeCompleto:this.nomeCompleto,descricao:this.descricao,remetente:this.remetente,telefone:this.telefone,codigoRastreio:t,status:"Aguardando retirada",dataEntrada:(new Date).toISOString()});console.log("Encomenda cadastrada com ID:",e.id),this.enviarMensagemWhatsApp(this.telefone,t),this.nomeCompleto="",this.descricao="",this.remetente="",this.telefone="",this.$emit("entrega-adicionada")}catch(t){console.error("Erro ao cadastrar encomenda:",t)}},async atualizarStatus(){try{const t=(0,u.P)((0,u.rJ)(l.db,"encomendas"),(0,u._M)("codigoRastreio","==",this.codigoRastreioInput)),e=await(0,u.GG)(t);e.empty?console.error("Encomenda não encontrada com o código de rastreio fornecido."):e.forEach((async t=>{await(0,u.mZ)(t.ref,{status:this.statusInput}),console.log("Status atualizado para:",this.statusInput)}))}catch(t){console.error("Erro ao atualizar status:",t)}},enviarMensagemWhatsApp(t,e){const a=t.replace(/\D/g,""),r=`Olá, ${this.nomeCompleto}! Seu pedido chegou! Status: Aguardando retirada. Código: ${e}`,o=`https://wa.me/${a}?text=${encodeURIComponent(r)}`;window.open(o,"_blank")}}},p=a(6262);const f=(0,p.A)(m,[["render",d],["__scopeId","data-v-1c654ff4"]]);var h=f}}]);
//# sourceMappingURL=215.75b4d110.js.map