"use strict";(self["webpackChunkporta_facil"]=self["webpackChunkporta_facil"]||[]).push([[461],{713:function(r,o,e){var t=e(9565),n=e(9306),a=e(8551),s=e(1767),d=e(9462),l=e(6319),i=d((function(){var r=this.iterator,o=a(t(this.next,r)),e=this.done=!!o.done;if(!e)return l(r,this.mapper,[o.value,this.counter++],!0)}));r.exports=function(r){return a(this),n(r),new i(s(this),{mapper:r})}},1701:function(r,o,e){var t=e(6518),n=e(713),a=e(6395);t({target:"Iterator",proto:!0,real:!0,forced:a},{map:n})},2529:function(r){r.exports=function(r,o){return{value:r,done:o}}},6279:function(r,o,e){var t=e(6840);r.exports=function(r,o,e){for(var n in o)t(r,n,o[n],e);return r}},6319:function(r,o,e){var t=e(8551),n=e(9539);r.exports=function(r,o,e,a){try{return a?o(t(e)[0],e[1]):o(e)}catch(s){n(r,"throw",s)}}},9461:function(r,o,e){e.r(o),e.d(o,{default:function(){return I}});var t=e(641),n=e(33);const a={class:"dashboard"},s={key:0},d={key:1,class:"loading"},l={key:2,class:"dados-container"},i={class:"info"},u={key:3,class:"erro"};function c(r,o,e,c,p,m){const v=(0,t.g2)("HeaderMorador"),g=(0,t.g2)("ListaEntregas");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(v),(0,t.Lk)("div",a,[p.morador?((0,t.uX)(),(0,t.CE)("h2",s,"Seja bem-vindo, "+(0,n.v_)(p.morador.nome)+"!",1)):(0,t.Q3)("",!0),p.loading?((0,t.uX)(),(0,t.CE)("div",d,o[0]||(o[0]=[(0,t.Lk)("p",null,"Carregando dados do morador...",-1)]))):p.morador?((0,t.uX)(),(0,t.CE)("div",l,[(0,t.Lk)("div",i,[(0,t.Lk)("p",null,[o[1]||(o[1]=(0,t.Lk)("strong",null,"Email:",-1)),(0,t.eW)(" "+(0,n.v_)(p.morador.email),1)]),(0,t.Lk)("p",null,[o[2]||(o[2]=(0,t.Lk)("strong",null,"Endereço:",-1)),(0,t.eW)(" "+(0,n.v_)(p.morador.endereco),1)]),(0,t.Lk)("p",null,[o[3]||(o[3]=(0,t.Lk)("strong",null,"CPF:",-1)),(0,t.eW)(" "+(0,n.v_)(p.morador.cpf),1)]),(0,t.Lk)("p",null,[o[4]||(o[4]=(0,t.Lk)("strong",null,"RG:",-1)),(0,t.eW)(" "+(0,n.v_)(p.morador.rg),1)]),(0,t.Lk)("p",null,[o[5]||(o[5]=(0,t.Lk)("strong",null,"Data de Nascimento:",-1)),(0,t.eW)(" "+(0,n.v_)(p.morador.dataNascimento),1)])]),(0,t.bF)(g,{nomeCompleto:p.morador.nome},null,8,["nomeCompleto"])])):((0,t.uX)(),(0,t.CE)("div",u,o[6]||(o[6]=[(0,t.Lk)("p",null,"Não foi possível carregar os dados do morador.",-1)])))])])}var p=e(1389),m=e(1884),v=e(1394);const g={class:"lista-entregas"},f={key:0},k={key:1},h={key:0},L={key:1};function C(r,o,e,a,s,d){return(0,t.uX)(),(0,t.CE)("div",g,[(0,t.Lk)("h3",null,"Entregas para "+(0,n.v_)(e.nomeCompleto),1),s.loading?((0,t.uX)(),(0,t.CE)("div",f,o[0]||(o[0]=[(0,t.Lk)("p",null,"Carregando entregas...",-1)]))):((0,t.uX)(),(0,t.CE)("div",k,[s.entregas.length>0?((0,t.uX)(),(0,t.CE)("div",h,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(s.entregas,(r=>((0,t.uX)(),(0,t.CE)("div",{key:r.id,class:"entrega-item"},[(0,t.Lk)("p",null,[o[1]||(o[1]=(0,t.Lk)("strong",null,"Código de Rastreio:",-1)),(0,t.eW)(" "+(0,n.v_)(r.codigoRastreio),1)]),(0,t.Lk)("p",null,[o[2]||(o[2]=(0,t.Lk)("strong",null,"Data de Entrada:",-1)),(0,t.eW)(" "+(0,n.v_)(d.formatarData(r.dataEntrada)),1)]),(0,t.Lk)("p",null,[o[3]||(o[3]=(0,t.Lk)("strong",null,"Descrição:",-1)),(0,t.eW)(" "+(0,n.v_)(r.descricao),1)]),(0,t.Lk)("p",null,[o[4]||(o[4]=(0,t.Lk)("strong",null,"Remetente:",-1)),(0,t.eW)(" "+(0,n.v_)(r.remetente),1)]),(0,t.Lk)("p",null,[o[5]||(o[5]=(0,t.Lk)("strong",null,"Status:",-1)),(0,t.eW)(" "+(0,n.v_)(r.status),1)])])))),128))])):((0,t.uX)(),(0,t.CE)("div",L,o[6]||(o[6]=[(0,t.Lk)("p",null,"Nenhuma entrega encontrada.",-1)])))]))])}e(8111),e(1701);var y={props:{nomeCompleto:{type:String,required:!0}},data(){return{entregas:[],loading:!0}},async created(){try{if(!this.nomeCompleto)return void console.warn("Nome do destinatário não definido.");const r=(0,m.rJ)(v.db,"encomendas"),o=(0,m.P)(r,(0,m._M)("nomeCompleto","==",this.nomeCompleto)),e=await(0,m.GG)(o);this.entregas=e.docs.map((r=>({id:r.id,...r.data()})))}catch(r){console.error("Erro ao buscar entregas:",r)}finally{this.loading=!1}},methods:{formatarData(r){return new Date(r).toLocaleString()}}},_=e(6262);const E=(0,_.A)(y,[["render",C],["__scopeId","data-v-1879a8db"]]);var b=E;function x(r,o,e,n,a,s){const d=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("nav",null,[(0,t.bF)(d,{to:"/"},{default:(0,t.k6)((()=>o[1]||(o[1]=[(0,t.eW)("Home")]))),_:1}),(0,t.bF)(d,{to:"/dashboard-morador"},{default:(0,t.k6)((()=>o[2]||(o[2]=[(0,t.eW)("Dashboard Morador")]))),_:1}),(0,t.bF)(d,{to:"/gerar-cartao"},{default:(0,t.k6)((()=>o[3]||(o[3]=[(0,t.eW)("Gerar Cartão")]))),_:1}),(0,t.Lk)("button",{onClick:o[0]||(o[0]=(...r)=>s.logout&&s.logout(...r))},"Logout")])}e(4114);var W={methods:{async logout(){try{await v.j.signOut(),this.$router.push("/")}catch(r){alert("Erro ao fazer logout: "+r.message)}}}};const w=(0,_.A)(W,[["render",x],["__scopeId","data-v-3232aec4"]]);var X=w,H={components:{ListaEntregas:b,HeaderMorador:X},data(){return{morador:null,loading:!0}},async created(){try{const r=(0,p.xI)(),o=r.currentUser;if(o){const r=await(0,m.x7)((0,m.H9)(v.db,"usuarios",o.uid));r.exists()?this.morador={id:o.uid,...r.data()}:console.warn("Dados do morador não encontrados.")}else console.warn("Usuário não autenticado.")}catch(r){console.error("Erro ao acessar o Firestore:",r.message)}finally{this.loading=!1}}};const F=(0,_.A)(H,[["render",c],["__scopeId","data-v-29e13730"]]);var I=F},9462:function(r,o,e){var t=e(9565),n=e(2360),a=e(6699),s=e(6279),d=e(8227),l=e(1181),i=e(5966),u=e(7657).IteratorPrototype,c=e(2529),p=e(9539),m=d("toStringTag"),v="IteratorHelper",g="WrapForValidIterator",f=l.set,k=function(r){var o=l.getterFor(r?g:v);return s(n(u),{next:function(){var e=o(this);if(r)return e.nextHandler();if(e.done)return c(void 0,!0);try{var t=e.nextHandler();return e.returnHandlerResult?t:c(t,e.done)}catch(n){throw e.done=!0,n}},return:function(){var e=o(this),n=e.iterator;if(e.done=!0,r){var a=i(n,"return");return a?t(a,n):c(void 0,!0)}if(e.inner)try{p(e.inner.iterator,"normal")}catch(s){return p(n,"throw",s)}return n&&p(n,"normal"),c(void 0,!0)}})},h=k(!0),L=k(!1);a(L,m,"Iterator Helper"),r.exports=function(r,o,e){var t=function(t,n){n?(n.iterator=t.iterator,n.next=t.next):n=t,n.type=o?g:v,n.returnHandlerResult=!!e,n.nextHandler=r,n.counter=0,n.done=!1,f(this,n)};return t.prototype=o?h:L,t}}}]);
//# sourceMappingURL=461.954b4f64.js.map